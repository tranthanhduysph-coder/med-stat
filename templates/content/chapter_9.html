<h2>9.1. Mục đích của Xử lý Số liệu</h2>
<p>Sau khi dữ liệu đã "sạch", chúng ta thường cần biến đổi (transform) chúng để tạo ra các biến mới hoặc nhóm các biến lại với nhau, phục vụ cho mục tiêu phân tích. Chương này tập trung vào menu <code>Transform</code> và <code>Data</code> trong SPSS.</p>

<h2>9.2. Tạo biến mới (Compute Variable)</h2>
<p>Dùng khi bạn muốn tạo một biến mới dựa trên công thức tính toán từ các biến đã có.</p>
<ul>
    <li><strong>Lệnh:</strong> <code>Transform > Compute Variable...</code></li>
    <li><strong>Ví dụ 1: Tính chỉ số BMI</strong>
        <ul>
            <li>Giả sử bạn có 2 biến: <code>Cannang</code> (kg) và <code>Chieucao</code> (cm).</li>
            <li>Ô <code>Target Variable</code> (Biến đích): gõ <code>BMI</code>.</li>
            <li>Ô <code>Numeric Expression</code> (Biểu thức): gõ <code>Cannang / ((Chieucao/100)**2)</code></li>
            <li>Nhấn OK, SPSS sẽ tạo một cột <code>BMI</code> mới ở cuối Data View.</li>
        </ul>
    </li>
    <li><strong>Ví dụ 2: Tính tuổi</strong>
        <ul>
            <li>Giả sử bạn có biến <code>Namsinh</code>.</li>
            <li><code>Target Variable</code>: gõ <code>Tuoi</code>.</li>
            <li><code>Numeric Expression</code>: gõ <code>2024 - Namsinh</code></li>
        </ul>
    </li>
</ul>

<h2>9.3. Tái mã hóa (Tạo nhóm) (Recode Variable)</h2>
<p>Đây là một trong những lệnh quan trọng nhất. Dùng khi bạn muốn chuyển đổi giá trị của một biến, thường là để <strong>nhóm một biến định lượng (Scale) thành một biến định tính (Nominal/Ordinal)</strong>.</p>
<p>Luôn luôn dùng <strong><code>Recode into Different Variables</code></strong> (Tái mã hóa sang biến MỚI) để giữ lại biến gốc.</p>
<ul>
    <li><strong>Lệnh:</strong> <code>Transform > Recode into Different Variables...</code></li>
    <li><strong>Ví dụ: Tạo biến "NhomTuoi" từ biến "Tuoi"</strong>
        <ol>
            <li>Chọn biến <code>Tuoi</code> đưa vào ô Input.</li>
            <li>Ô <code>Output Variable</code> (Biến mới): gõ tên <code>NhomTuoi</code>, nhãn (Label) <code>"Phân nhóm tuổi"</code> → Nhấn <code>Change</code>.</li>
            <li>Nhấn nút <code>Old and New Values...</code> (Giá trị cũ và mới).</li>
            <li>Thiết lập quy tắc nhóm:
                <ul>
                    <li>Chọn <code>Range, LO THRU value:</code> gõ <code>24</code> → Ô New Value: gõ <code>1</code> → Add. (Nhóm 1: từ thấp nhất đến 24 tuổi).</li>
                    <li>Chọn <code>Range:</code> gõ <code>25</code> THRU <code>34</code> → Ô New Value: gõ <code>2</code> → Add. (Nhóm 2: từ 25 đến 34 tuổi).</li>
                    <li>Chọn <code>Range, value THRU HI:</code> gõ <code>35</code> → Ô New Value: gõ <code>3</code> → Add. (Nhóm 3: từ 35 tuổi trở lên).</li>
                </ul>
            </li>
            <li>Nhấn Continue → OK.</li>
            <li><strong>BẮT BUỘC:</strong> Sau khi tạo, bạn phải vào <code>Variable View</code>, tìm biến <code>NhomTuoi</code> mới và khai báo <code>Values</code> cho nó (1="<25 tuổi", 2="25-34 tuổi", 3=">=35 tuổi") và chuyển <code>Measure</code> thành <code>Ordinal</code>.</li>
        </ol>
    </li>
</ul>

<h2>9.4. Lọc dữ liệu (Select Cases)</h2>
<p>Dùng khi bạn muốn phân tích trên một nhóm đối tượng cụ thể (ví dụ: chỉ phân tích ở nhóm Nữ, hoặc nhóm >=35 tuổi).</p>
<ul>
    <li><strong>Lệnh:</strong> <code>Data > Select Cases...</code></li>
    <li><strong>Cách làm:</strong>
        <ol>
            <li>Chọn <code>If condition is satisfied</code> → Nhấn nút <code>If...</code></li>
            <li>Nhập điều kiện logic, ví dụ: <code>GioiTinh = 2</code> (chỉ chọn Nữ).</li>
            <li>Hoặc: <code>Tuoi >= 35 AND GioiTinh = 1</code> (chỉ chọn Nam từ 35 tuổi trở lên).</li>
            <li>Chọn <code>Filter out unselected cases</code> (mặc định) → OK.</li>
            <li>Trong Data View, SPSS sẽ gạch chéo những đối tượng không thỏa mãn. Mọi phân tích sau đó sẽ tự động loại trừ họ.</li>
            <li><strong>Lưu ý:</strong> Nhớ tắt lọc (chọn <code>All cases</code>) sau khi phân tích xong.</li>
        </ol>
    </li>
</ul>

<h2>9.5. Phân tách kết quả (Split File)</h2>
<p>Dùng khi bạn muốn SPSS tự động chạy <strong>một phân tích</strong> nhưng trả kết quả riêng biệt cho <strong>từng nhóm</strong> (ví dụ: tính trung bình Hb riêng cho Nam và riêng cho Nữ).</p>
<ul>
    <li><strong>Lệnh:</strong> <code>Data > Split File...</code></li>
    <li><strong>Cách làm:</strong>
        <ol>
            <li>Chọn <code>Compare groups</code>.</li>
            <li>Chọn biến phân nhóm (ví dụ: <code>GioiTinh</code>) đưa vào ô <code>Groups Based on</code> → OK.</li>
            <li>Chạy lệnh phân tích (ví dụ: <code>Analyze > Descriptives > Hb</code>).</li>
            <li>Cửa sổ Output sẽ hiển thị 2 bảng riêng biệt: một cho Nam, một cho Nữ.</li>
            <li><strong>Lưu ý:</strong> Nhớ tắt Split File (chọn <code>Analyze all cases, do not create groups</code>) sau khi xong.</li>
        </ol>
    </li>
</ul>
