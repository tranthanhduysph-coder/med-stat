{% extends 'base.html' %}
{% block title %}Trợ lý AI{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-10 px-4 sm:px-6 lg:px-8 h-full">
    <div class="bg-white p-6 md:p-8 rounded-lg shadow-md h-full flex flex-col" style="height: calc(100vh - 200px);">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Trợ lý AI Hỏi-đáp</h2>
        <p class="text-gray-700 mb-6">Hỏi bất cứ điều gì liên quan đến giáo trình (Chương 1-11). AI sẽ trả lời và cố gắng trích dẫn nguồn từ giáo trình (dựa trên tìm kiếm nâng cao).</p>

        <!-- Khung Chat -->
        <div id="chat-window" class="flex-1 p-4 sm:p-6 space-y-4 overflow-y-auto bg-gray-50 border border-gray-200 rounded-lg">
            <!-- Tin nhắn của AI -->
            <div class="flex items-start space-x-3">
                <div class="flex-shrink-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center">
                    <i class='bx bxs-brain text-2xl text-white'></i>
                </div>
                <div class="bg-gray-200 p-4 rounded-lg rounded-tl-none shadow-sm max-w-[80%]">
                    <p class="text-sm text-gray-800">Xin chào! Tôi là Trợ lý AI. Bạn muốn hỏi gì về 11 chương giáo trình NCKH và Thống kê Y học?</p>
                </div>
            </div>
            <!-- Các tin nhắn khác sẽ được thêm vào đây -->
        </div>
        
        <!-- Khung nhập liệu -->
        <div class="mt-6">
            <div class="flex items-center space-x-3">
                <input type="text" id="chat-input" class="flex-1 block w-full rounded-full border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Ví dụ: p-value là gì? (Chương 4)" onkeydown="if(event.key === 'Enter') document.getElementById('btn-send-chat').click()">
                <button id="btn-send-chat" class="bg-blue-600 text-white rounded-full p-3 flex-shrink-0 shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <i class='bx bxs-paper-plane text-xl'></i>
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
